# StartFromZero-DesignPatterns
## 代理模式（Proxy）
	代理模式是通过代理类完成预处理消息、过滤消息、把消息转发给被代理类以及事后处理消息等工作。
	根据代理创建的时期，可以分为静态代理和动态代理。
### 1. 静态代理
	- 特点：
		在程序执行前，代理类字节码文件就已生成出来。
	- 缺点：
		每个代理类只能为一个接口服务，如果新增接口方法，还需要新增相应的代理方法，造成代码冗余。
### 2. 动态代理
	- 特点：
		在程序运行时动态生成代理类字节码，无需编写源代码
	- JDK和CGLIB(Code Generation Library)
		JDK和CGLIB都为实现动态代理提供了解决方案，但其原理不尽相同。
		- JDK只能为实现接口的类做代理，且只能代理接口方法。
			创建代理对象，JDK将会做以下工作：
				1. 获取被代理对象上的所有接口列表
				2. 确定要生成的代理类的类名，默认为：com.sun.proxy.$ProxyXXX
				3. 动态创建代理类的字节码
				4. 将字节码转换为class对象
				5. 创建InvocationHandler实例handler，实现invoke方法，用来处理代理类所有方法调用
				6. 将handler作为代理类入参，创建代理类对象
		- CGLIB基于继承机制，通过继承被代理类，重写方法实现代理。由于受限于继承机制，不能为被final修饰的类或方法代理
			创建代理对象，CGLIB将会做以下工作：
				1. 获取所有被代理类非final的public方法
				2. 将这些方法转换成字节码
				3. 将字节码转换成相应的代理的class对象
				4. 创建MethodInterceptor实例，实现intercept方法，用来处理代理类的方法调用

---			
## 建造者模式（Builder）
	由一些简单对象一步步建造成复杂对象，将复杂对象的构建与表示分离，使得同样的构建过程可以创建不同的表示

---
## UML知识补充
### 1. 类之间的关系
	- 泛化（is-a）：继承关系。用一条带空心箭头的直线表示
	- 实现（has-a）：实现接口或继承抽象类。用一条带空心箭头的虚线表示
	- 聚合：表示实体对象之间的关系，表示整体由部分构成的语义，整体与部分之间是一种弱依赖。如：部门与员工的关系，部门撤消了，员工依旧存在。用一条带空心菱形箭头的直线表示
	- 组合：是一种强依赖的特殊聚合关系，整体不存在，则部分也不存在。如：公司不存在，部门也将不存在。用一条带实心菱形箭头的直线表示
	- 关联：描述不同类的对象之间的结构关系，是一种静态关系，与运行状态无关。关联对象通常是以成员变量的形式实现的。用一条直线表示
	- 依赖：描述一个对象在运行期间与其他对象之间的关系。是一种临时性关系，仅在运行期间产生。体现为构造方法及类方法的传入参数。用一条带箭头的虚线表示
	例：
		1). 车为一个抽象概念
		2). 小汽车和自行车均具有车的一般特性，故为实现关系（空心箭头虚线）
		3). 小汽车又分为SUV，轿车，面包车等，其之间的关系为继承泛化关系（空心箭头直线）
		4). 小汽车与发动机、轮胎等之间为组合关系（实心菱形箭头直线）
		5). 部门与员工之间为聚合关系（空心菱形箭头直线）
		6). 员工与员工证之间为关联关系（直线）
		7). 员工与员工出行时用的汽车之间为依赖关系（带箭头虚线）

### 2. 各种图
	- 时序图：显示对象之间交互的图，这些对象是按时间顺序排列的。时序图显示的是参与交互的对象及其对象之间消息交互的顺序。
---

##  参考文献
	[图说设计模式](http://design-patterns.readthedocs.org/zh_CN/latest/index.html "图说设计模式")